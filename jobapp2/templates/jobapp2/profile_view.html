<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> {{ candidate.username }}'s Profile </title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

    <style>
        body{
            background: linear-gradient(-45deg, #dfe9f3, #fdfbfb, #e3f2fd, #fce4ec);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .profile-container {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            padding: 2rem;
            max-width: 600px;
            width: 100%;
            text-align: center;

        }
        

        .profile-pic{
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid #ddd;
            
        }

        .profile-info p {
            margin: 8px 0;
            font-size: 1rem;

        }

        .btn {
            margin-top: 1rem;

        }
    </style>

</head>
<body>
    <div class="profile-container">

            <h2 class="mb-3">{{ candidate.username }}'s Profile</h2>

            {% if profile.profile_pic %}
                <img src="{{ profile.profile_pic.url }}" class="profile-pic mb-2" alt="Profile">
            {% else %}
                <img src="{% static 'images/default-avatar.png' %}" class="profile_pic mb-2" alt="Default avatar">
            {% endif %}


            <div class="profile-info">
                <p><b>Full Name: </b> {{ candidate.full_name }}</p>
                <p><b>Email: </b> {{ candidate.email }}</p>
                <p><b>Phone: </b> {{ candidate.profile.phone }}</p>
                <p><b>Address: </b> {{ candidate.profile.address }}</p>
                <p><b>Skills: </b> {{ candidate.profile.skills }}</p>
                <p><b>Experience: </b> {{ candidate.profile.experience }}</p>
                
                {% if application and application.resume %}
                    <p><b>Resume: </b> 
                        <a href="{{ application.resume.url }}" target="_blank" class="text-primary fw-bold">
                            View Resume (From Application)
                        </a>
                    </p>
                {% elif candidate.profile.resume %}
                    <p><b> Resume: </b> 
                        <a href="{{ candidate.profile.resume.url }}" target="_blank" class="text-primary fw-bold">
                            View Resume (From Profile)
                        </a>
                    </p>
                {% else %}
                    <p><b> Resume: </b> <span class="text-muted">No resume uploaded</span></p>
                {% endif %}

            {% if candidate.profile.github %}
                <p><b>GitHub:</b> 
                    <a href="{{ candidate.profile.github }}" target="_blank">
                        {{ candidate.profile.github|cut:"https://github.com/" }}
                    </a>
                </p>
            {% endif %}
        </div>

        {% if job_id %}
            <a href="{% url 'job_detail' job_id %}" class="btn btn-secondary">Back</a>
        {% else %}
            <a href="{% url 'jobs' %}" class="btn btn-secondary">Back to Jobs</a>
        {% endif %}


    </div>

</body>
</html>